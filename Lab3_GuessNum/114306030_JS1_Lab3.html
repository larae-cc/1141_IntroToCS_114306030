<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Number Guessing Game</title>
</head>

<body>

<h1>114306030_Number Guessing Game</h1>

<div id="result-area"></div>

<script>
    // 產生 1~100 的隨機答案
    var answer = Math.floor(Math.random() * 100) + 1;

    var min = 1;
    var max = 100;
    var chances = 7;

    while (chances > 0) {

        // prompt 訊息
        var input = prompt(
            "請輸入 " + min + " 到 " + max + " 之間的整數。\n" +
            "你還有 " + chances + " 次機會。"
        );

        // 去空白
        if (input !== null) input = input.trim();

        // 檢查空值或非數字
        if (input === "" || isNaN(input)) {
            alert("請輸入有效數字！");
            continue; // 不扣機會，重新來
        }

        var guess = Number(input);

        // 檢查是否在範圍內
        if (guess < min || guess > max) {
            alert("請輸入有效範圍內的數字（不能超出 " + min + " 到 " + max + "）！");
            continue;
        }

        // 猜對
        if (guess === answer) {
            alert("恭喜你答對了！正確答案是 " + answer);

            document.getElementById("result-area").innerHTML =
                "<img src='images/correct.jpg' width='600'>";

            break;
        }

        // 猜錯 → 調整範圍
        if (guess > answer) {
            max = guess;
        } else {
            min = guess;
        }

        chances--;
    }

    // 用完所有機會 → 失敗
    if (chances === 0) {
        alert("很可惜，次數用完了！正確答案是 " + answer);

        document.getElementById("result-area").innerHTML =
            "<img src='images/wrong.jpg' width='600'>";
    }
</script>

</body>
</html>
